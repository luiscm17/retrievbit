---
import CollectionLayout from "@components/poetry/CollectionLayout.astro";
import { getEntries } from "@lib/contentParser";
import { sortByDate } from "@lib/sortFunctions";
import type { PoetryEntry } from "@/types";
import { getIndex } from "@lib/contentParser";

const lang = Astro.params.lang || "es";

const entryIndex = (await getIndex("poetry", lang)) as PoetryEntry;
const entries = (await getEntries("poetry", lang, sortByDate)) as PoetryEntry[];
---

<CollectionLayout entryIndex={entryIndex} entries={entries} />
